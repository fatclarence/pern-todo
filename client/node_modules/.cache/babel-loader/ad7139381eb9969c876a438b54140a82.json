{"ast":null,"code":"var _jsxFileName = \"/Users/clarencekoh/Desktop/pern-todo/client/src/pages/Login.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { UserContext } from \"../utils/UserProvider\";\nimport ROUTES from \"../routes/Routes\";\n\nconst Login = () => {\n  // setContextUsername will change the state in the context (received from parent/ancestor component)\n  const {\n    setUsername: setContextUsername,\n    setToken\n  } = useContext(UserContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const body = {\n      username,\n      password\n    };\n    axios.post(\"/api/auth/login\", body).then(response => {\n      const {\n        data\n      } = response;\n      setToken(data.token);\n      setContextUsername(data.username);\n    }).catch(error => {\n      toast.error(error.response.data.error);\n    });\n    console.log(`Sign in form submitted by ${username}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-4 mb-3\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    controlId: \"formPlainTextName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"text-right\",\n    column: true,\n    sm: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    controlId: \"formPlainPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"text-right\",\n    column: true,\n    sm: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    class: \"btn btn-success\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Sign In\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Don't have an account? Register\\xA0\", /*#__PURE__*/React.createElement(Link, {\n    to: ROUTES.REGISTER,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"NOW!\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/clarencekoh/Desktop/pern-todo/client/src/pages/Login.js"],"names":["React","useState","useContext","useEffect","Button","Col","Container","Form","Row","Link","Redirect","toast","axios","UserContext","ROUTES","Login","setUsername","setContextUsername","setToken","username","password","setPassword","handleSubmit","event","preventDefault","body","post","then","response","data","token","catch","error","console","log","e","target","value","REGISTER"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\nimport { UserContext } from \"../utils/UserProvider\";\nimport ROUTES from \"../routes/Routes\";\n\nconst Login = () => {\n    // setContextUsername will change the state in the context (received from parent/ancestor component)\n    const { setUsername : setContextUsername,\n            setToken } = useContext(UserContext);\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n        const body = { username, password };\n        axios.post(\"/api/auth/login\", body)\n            .then(response => {\n                const { data } = response;\n                setToken(data.token);\n                setContextUsername(data.username);\n            })\n            .catch(error => {\n                toast.error(error.response.data.error);\n            });\n\n        console.log(`Sign in form submitted by ${username}`);\n    };\n\n    return (<div>\n            <Container className=\"my-5\">\n                <h2>Login</h2>\n                <Form className=\"mt-4 mb-3\" onSubmit={handleSubmit}>\n                    <Form.Group as={Row} controlId=\"formPlainTextName\">\n                        <Form.Label className=\"text-right\" column sm=\"2\">\n                            Username:\n                        </Form.Label>\n                        <Col sm=\"10\">\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Username\"\n                                value={username}\n                                onChange={e => setUsername(e.target.value)}\n                            />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formPlainPassword\">\n                        <Form.Label className=\"text-right\" column sm=\"2\">\n                            Password:\n                        </Form.Label>\n                        <Col sm=\"10\">\n                            <Form.Control\n                                type=\"password\"\n                                placeholder=\"Password\"\n                                value={password}\n                                onChange={e => setPassword(e.target.value)}\n                            />\n                        </Col>\n                    </Form.Group> \n\n                    <Button class=\"btn btn-success\" type=\"submit\">\n                        Sign In\n                    </Button>\n                </Form>\n                <p>\n                    Don't have an account? Register&nbsp;\n                    <Link to={ROUTES.REGISTER}>\n                        NOW!\n                    </Link>\n                </p>\n            </Container>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/clarencekoh/Desktop/pern-todo/client/src/pages/Register.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { UserContext } from \"../utils/UserProvider\";\nimport ROUTES from \"../routes/Routes\";\n\nconst Register = () => {\n  const {\n    setUsername: setContextUsername,\n    setToken\n  } = useContext(UserContext); // Initialise input states of form\n\n  const [inputs, setInputs] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const {\n    username,\n    email,\n    password,\n    confirmPassword\n  } = inputs; // When fields change, apply changes to input variables\n\n  const handleChange = event => {\n    setInputs({ ...inputs,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const body = {\n      username,\n      email,\n      password,\n      confirmPassword\n    };\n    axios.post(\"/api/auth/register\", body).then(response => {\n      const {\n        data\n      } = response;\n      setContextUsername(data.username);\n      setToken(data.token);\n    }).catch(error => {\n      toast.error(error.response.data.error);\n    });\n    console.log(`Form submitted by ${username}, with ${email}`);\n  };\n\n  return (\n    /*#__PURE__*/\n    //isAuthenticated ? <Redirect to={ROUTES.TODOLIST} />\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      className: \"my-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(Form, {\n      className: \"mt-4 mb-3\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlainTextName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      className: \"text-right\",\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"Username:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Username\",\n      value: username,\n      name: \"username\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlainEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      className: \"text-right\",\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"email@example.com\",\n      value: email,\n      name: \"email\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlainPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      className: \"text-right\",\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      name: \"password\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlainPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      className: \"text-right\",\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"Confirm Password:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      value: confirmPassword,\n      name: \"confirmPassword\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      class: \"btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, \"Already have an account? Sign in\\xA0\", /*#__PURE__*/React.createElement(Link, {\n      to: ROUTES.LOGIN,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \"here\"))))\n  );\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/clarencekoh/Desktop/pern-todo/client/src/pages/Register.js"],"names":["React","useState","useContext","useEffect","Button","Col","Container","Form","Row","Link","toast","axios","UserContext","ROUTES","Register","setUsername","setContextUsername","setToken","inputs","setInputs","username","email","password","confirmPassword","handleChange","event","target","name","value","handleSubmit","preventDefault","body","post","then","response","data","token","catch","error","console","log","LOGIN"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\nimport { UserContext } from \"../utils/UserProvider\";\nimport ROUTES from \"../routes/Routes\";\n\nconst Register = () => {\n    const { setUsername : setContextUsername, \n            setToken } = useContext(UserContext);\n\n    // Initialise input states of form\n    const [inputs, setInputs] = useState({\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        confirmPassword: \"\"\n    });\n\n    const {\n        username,\n        email,\n        password,\n        confirmPassword\n    } = inputs;\n\n    // When fields change, apply changes to input variables\n    const handleChange = event => {\n        setInputs({\n            ...inputs,\n            [event.target.name]: event.target.value\n        });\n    };\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n\n        const body = {\n            username,\n            email,\n            password,\n            confirmPassword\n        };\n\n        axios.post(\"/api/auth/register\", body)\n            .then(response => {\n                const { data } = response;\n\n                setContextUsername(data.username);\n                setToken(data.token);\n            })\n            .catch(error => {\n                toast.error(error.response.data.error);\n            });\n\n        console.log(`Form submitted by ${username}, with ${email}`);\n    };\n\n    return (\n        //isAuthenticated ? <Redirect to={ROUTES.TODOLIST} />\n         <div>\n            <Container className=\"my-5\">\n                <h2>Register</h2>\n                <Form className=\"mt-4 mb-3\" onSubmit={handleSubmit}>\n                    <Form.Group as={Row} controlId=\"formPlainTextName\">\n                        <Form.Label className=\"text-right\" column sm=\"2\">\n                            Username:\n                        </Form.Label>\n                        <Col sm=\"10\">\n                            <Form.Control \n                                type=\"text\"\n                                placeholder=\"Username\"\n                                value={username}\n                                name=\"username\"\n                                onChange={handleChange}\n                            />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formPlainEmail\">\n                        <Form.Label className=\"text-right\" column sm=\"2\">\n                            Email:\n                        </Form.Label>\n                        <Col sm=\"10\">\n                            <Form.Control \n                                type=\"email\"\n                                placeholder=\"email@example.com\"\n                                value={email}\n                                name=\"email\"\n                                onChange={handleChange}\n                            />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formPlainPassword\">\n                        <Form.Label className=\"text-right\" column sm=\"2\">\n                            Password:\n                        </Form.Label>\n                        <Col sm=\"10\">\n                            <Form.Control \n                                type=\"password\"\n                                placeholder=\"Password\"\n                                value={password}\n                                name=\"password\"\n                                onChange={handleChange}\n                            />\n                        </Col>\n                    </Form.Group>\n\n                    <Form.Group as={Row} controlId=\"formPlainPassword\">\n                        <Form.Label className=\"text-right\" column sm=\"2\">\n                            Confirm Password:\n                        </Form.Label>\n                        <Col sm=\"10\">\n                            <Form.Control \n                                type=\"password\"\n                                placeholder=\"Confirm Password\"\n                                value={confirmPassword}\n                                name=\"confirmPassword\"\n                                onChange={handleChange}\n                            />\n                        </Col>\n                    </Form.Group>\n\n                    <Button class=\"btn btn-primary\" type=\"submit\">\n                        Register\n                    </Button>\n                </Form>\n                <p>\n                    Already have an account? Sign in&nbsp;\n                    <Link to={ROUTES.LOGIN}>\n                        here\n                    </Link>\n                </p>\n            </Container>\n        </div>\n    );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}